{ config, pkgs, lib, ... }:

{
  environment.systemPackages = [
    pkgs.fzf
    # pkgs.zsh-completions
    # pkgs.zsh-autocomplete
    # pkgs.zsh-fzf-tab
  ];

  programs.zsh = {
    enable = true;
    enableCompletion = true;
    autosuggestions.enable = true;
    syntaxHighlighting.enable = true;

    ohMyZsh = {
      enable = true;
      plugins = [ 
        "git"
        # "zsh-syntax-highlighting"
        # "zsh-autosuggestions"
        # "zsh-completions"
        # "fzf-tab"
        

      ];
      theme = "robbyrussell";
    };

    # initExtra = "zstyle ':completion:*' matcher-list 'm:{a-z}={A-Za-z}'";
    # https://nix-community.github.io/home-manager/options.xhtml#opt-programs.zsh.initExtra
    # This should work 
    
    shellAliases = {
      ls = "ls --color";
    #   ll = "ls -l";
    #   update = "sudo nixos-rebuild switch";
    };
    # history = {
    #   size = 10000;
    #   path = "${config.xdg.dataHome}/zsh/history";
    # };
  };
}
